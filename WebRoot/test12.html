<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="css/common.css" />
		<script type="text/javascript" src="js/afquery.js" ></script>
		<script type="text/javascript" src="js/jquery.min.js" ></script>
	<style>
			.form .line{
				margin: 10px 0;
			}
			.form label{
				display: inline-block;
				min-width: 80px;
				text-align: right;
			}
			.form input,select{
				width: 200px;
				height: 24px;
			}
		</style>
	</head>
	<body>
	本页面用于add，添加新的数据到list中
	<div class="container">
		
		<div style='background-color: #F8F8FF; padding:4px'>
				<a href='index.html'> 首页 </a> >> 添加记录
		</div>
		
		<div class="row" style="margin-bottom: 30px;">
			<button onclick="M.save()">保存</button>
		</div>
		
		<div class="row form">
			<div class="line">
				<label>学号</label>
				<input type="text" class="id" />
			</div>
			<div class='line'>
				<label> 姓名 </label>
				<input type='text' class='name' >
			</div>
			<div class='line'>
				<label> 性别 </label>
				<select class='sex' >
					<option value='male'> 男 </option>
					<option value='female'> 女 </option>						
				</select>
			</div>
			<div class='line'>
				<label> 手机号 </label>
				<input type='text' class='phone' >
			</div>
		</div>
	</div>
	</body>
	
	<script>
		M = {};
		
		M.save = function()
		{
			//取得输入的值
			var req = {};
			req.id = $(".form .id").val().trim();
			req.name = $('.form .name').val();
			req.sex = $('.form .sex').val();
			req.phone = $('.form .phone').val();
			
			//必要的转换
			req.id = Number(req.id);//id转为Number
			req.sex = (req.sex == 'male');//sex转换为boolean
			
			//调用后台接口
//			Af.rest('AddStudent4',req,function(resp)
			Af.rest('StudentAdd.api',req,function(resp)
			{
				console.log(resp);
				alert("成功");
				location.href = 'test11.html';//跳转到首页
			});
		}
	</script>
</html>
